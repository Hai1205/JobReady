# Stats Service Configuration
server.port=${SERVER_PORT}

# Application name
spring.application.name=stats-service

# Eureka client configuration
eureka.client.service-url.defaultZone=${EUREKA_SERVER_URL}
eureka.instance.prefer-ip-address=true

# gRPC Client Configuration
grpc.client.user-service.address=${GRPC_CLIENT_USER_SERVICE_ADDRESS}
grpc.client.user-service.negotiationType=PLAINTEXT
grpc.client.cv-service.address=${GRPC_CLIENT_CV_SERVICE_ADDRESS}
grpc.client.cv-service.negotiationType=PLAINTEXT

# Force NIO transport (disable Epoll for Windows compatibility)
grpc.client.GLOBAL.negotiationType=PLAINTEXT
grpc.client.GLOBAL.enable-keep-alive=true
grpc.client.GLOBAL.keep-alive-without-calls=true

# Redis host và port
# spring.data.redis.host=${REDIS_HOST}
# spring.data.redis.port=${REDIS_PORT}
# spring.data.redis.username=${REDIS_USERNAME}
# spring.data.redis.password=${REDIS_PASSWORD}
# spring.data.redis.ssl.enabled=${REDIS_SSL_ENABLED}
# spring.data.redis.database=0
# spring.data.redis.timeout=60000

# Use Redis URL format for Redis Cloud
spring.data.redis.url=${REDIS_URL}
spring.data.redis.database=0
spring.data.redis.timeout=60000

# Pool configuration (nếu dùng Jedis)
spring.data.redis.jedis.pool.max-active=8
spring.data.redis.jedis.pool.max-idle=8
spring.data.redis.jedis.pool.min-idle=0
spring.data.redis.jedis.pool.max-wait=-1

# Actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# Logging
logging.level.com.example.statsservice=DEBUG
logging.level.io.grpc=ERROR