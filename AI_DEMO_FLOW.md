# 🎯 Demo Flow - AI Features trong CV Builder

## 📸 Giao Diện & Luồng Sử Dụng

### Step 1: Personal Info

```
┌─────────────────────────────────────────────┐
│  Step 1/6: Personal Info                    │
├─────────────────────────────────────────────┤
│  [Full Name]     [____________________]     │
│  [Email]         [____________________]     │
│  [Phone]         [____________________]     │
│  [Location]      [____________________]     │
│  [Summary]       [____________________]     │
│                  [____________________]     │
│                                              │
│            [Previous]    [Next →]           │
└─────────────────────────────────────────────┘
```

### Step 2-4: Experience, Education, Skills

```
(Người dùng điền thông tin như bình thường)
```

### Step 5: 🌟 AI Analysis (MỚI!)

```
┌──────────────────────────────────────────────────────────┐
│  Step 5/6: AI Analysis                                   │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │  ✨ AI-Powered CV Enhancement                      │  │
│  │  Use artificial intelligence to analyze, improve,  │  │
│  │  and optimize your CV                              │  │
│  │                                                     │  │
│  │  [✨ Quick Analyze]                                │  │
│  │                                                     │  │
│  │  ▼ View Full AI Analysis                           │  │
│  └────────────────────────────────────────────────────┘  │
│                                                           │
│  ┌─ Tabs ─────────────────────────────────────────────┐  │
│  │ [Job Match Analysis] [Gợi Ý AI]                    │  │
│  ├─────────────────────────────────────────────────────┤ │
│  │                                                     │  │
│  │  Job Match Analysis:                               │  │
│  │  ┌──────────────────────────────────────────────┐  │  │
│  │  │ Upload Job Description                       │  │  │
│  │  │ [Choose File]                                │  │  │
│  │  │                                              │  │  │
│  │  │ Or paste text:                               │  │  │
│  │  │ ┌────────────────────────────────────────┐  │  │  │
│  │  │ │ [Job description text here...]         │  │  │  │
│  │  │ │                                        │  │  │  │
│  │  │ └────────────────────────────────────────┘  │  │  │
│  │  │                                              │  │  │
│  │  │ Language: [Vietnamese ▼]                    │  │  │
│  │  │                                              │  │  │
│  │  │ [✨ Phân Tích Độ Khớp]                      │  │  │
│  │  └──────────────────────────────────────────────┘  │  │
│  │                                                     │  │
│  └─────────────────────────────────────────────────────┘ │
│                                                           │
│            [← Previous]               [Next →]           │
└──────────────────────────────────────────────────────────┘
```

### Step 5a: Sau khi Click "Quick Analyze"

```
┌──────────────────────────────────────────────────────────┐
│  Gợi Ý AI (5 pending)                                    │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  ┌──────────────────────────────────────────────────┐    │
│  │ 💡 improvement │ Summary                         │    │
│  │ Your summary needs more impact                   │    │
│  │ "Add quantifiable achievements..."               │    │
│  │                                                   │    │
│  │ [✓ Apply]                                        │    │
│  └──────────────────────────────────────────────────┘    │
│                                                           │
│  ┌──────────────────────────────────────────────────┐    │
│  │ ⚠️  warning │ Experience                         │    │
│  │ Missing measurable results                       │    │
│  │ "Include metrics and KPIs..."                    │    │
│  │                                                   │    │
│  │ [✓ Apply]                                        │    │
│  └──────────────────────────────────────────────────┘    │
│                                                           │
│  ┌──────────────────────────────────────────────────┐    │
│  │ 💡 improvement │ Skills                          │    │
│  │ Add relevant technical skills                    │    │
│  │ "Consider adding: React, TypeScript..."          │    │
│  │                                                   │    │
│  │ [✓ Apply]                                        │    │
│  └──────────────────────────────────────────────────┘    │
│                                                           │
└──────────────────────────────────────────────────────────┘
```

### Step 5b: Sau khi Apply Suggestion

```
┌──────────────────────────────────────────────────────────┐
│  Improved Summary                                         │
├──────────────────────────────────────────────────────────┤
│  Review the AI-improved content and apply it to your CV  │
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │ Experienced software developer with 5+ years in   │  │
│  │ full-stack development. Delivered 10+ projects    │  │
│  │ with 99.9% uptime. Increased performance by 40%.  │  │
│  │ Expert in React, Node.js, and cloud technologies. │  │
│  └────────────────────────────────────────────────────┘  │
│                                                           │
│  [✓ Apply to CV]                [✗ Discard]              │
└──────────────────────────────────────────────────────────┘
```

### Step 5c: Job Match Analysis Results

```
┌──────────────────────────────────────────────────────────┐
│  Job Match Results                                        │
├──────────────────────────────────────────────────────────┤
│                                                           │
│  Match Score: ████████░░ 85%                             │
│                                                           │
│  ✅ Strengths:                                            │
│    • 5+ years experience (required: 3+)                  │
│    • Strong React & Node.js skills                       │
│    • Leadership experience                               │
│                                                           │
│  ⚠️  Missing Keywords:                                    │
│    • Docker, Kubernetes                                  │
│    • AWS certification                                   │
│    • Agile/Scrum master                                  │
│                                                           │
│  💡 Recommendations:                                      │
│    • Add Docker and Kubernetes to skills                 │
│    • Mention any cloud certifications                    │
│    • Highlight Agile methodology experience              │
│                                                           │
│  [View Detailed Analysis]                                │
└──────────────────────────────────────────────────────────┘
```

### Step 6: Preview & Export

```
┌─────────────────────────────────────────────┐
│  Step 6/6: Preview & Export                 │
├─────────────────────────────────────────────┤
│                                              │
│  [Download PDF]                             │
│                                              │
│  ┌────────────────────────────────────────┐ │
│  │                                        │ │
│  │  [CV Preview with improved content]   │ │
│  │                                        │ │
│  └────────────────────────────────────────┘ │
│                                              │
│            [← Previous]    [Save]           │
└─────────────────────────────────────────────┘
```

---

## 🔄 Luồng Dữ Liệu

```
┌─────────────┐
│   Browser   │
│  (React)    │
└──────┬──────┘
       │
       │ 1. User fills CV data
       ↓
┌─────────────────────┐
│   useCVStore        │
│   (Zustand)         │
└──────┬──────────────┘
       │
       │ 2. Click "Quick Analyze"
       │
       │ analyzeCV(title, personalInfo, experiences, educations, skills)
       ↓
┌─────────────────────┐
│  cvAIService.ts     │
│  (API Layer)        │
└──────┬──────────────┘
       │
       │ 3. POST /cvs/analyze
       │    FormData: { data: JSON.stringify(cvData) }
       ↓
┌──────────────────────────┐
│   API Gateway            │
│   (Spring Cloud Gateway) │
└──────┬───────────────────┘
       │
       │ 4. Route to cv-service
       ↓
┌─────────────────────────────┐
│   CVController              │
│   @PostMapping("/analyze")  │
└──────┬──────────────────────┘
       │
       │ 5. Validate & Parse
       ↓
┌────────────────────────────┐
│   CVService                │
│   analyzeCV(dataJson)      │
└──────┬─────────────────────┘
       │
       │ 6. Call OpenRouter AI
       ↓
┌────────────────────────────┐
│   OpenRouterConfig         │
│   callModelWithSystemPrompt│
└──────┬─────────────────────┘
       │
       │ 7. AI Analysis Result
       ↓
┌────────────────────────────┐
│   CVService                │
│   Parse JSON response      │
│   Extract suggestions      │
└──────┬─────────────────────┘
       │
       │ 8. Response { analyze, suggestions }
       ↓
┌─────────────────────┐
│   Browser           │
│   Display results   │
└─────────────────────┘
```

---

## 💾 Cấu Trúc Dữ Liệu

### Request (Frontend → Backend)

```typescript
POST /cvs/analyze
Content-Type: multipart/form-data

{
  data: JSON.stringify({
    title: "Software Engineer CV",
    personalInfo: {
      fullname: "Nguyễn Văn A",
      email: "nva@example.com",
      phone: "0123456789",
      location: "Hà Nội",
      summary: "Experienced developer..."
    },
    experiences: [
      {
        company: "ABC Company",
        position: "Senior Developer",
        startDate: "2020-01",
        endDate: "2023-12",
        description: "Led team of 5..."
      }
    ],
    educations: [
      {
        school: "XYZ University",
        degree: "Bachelor",
        field: "Computer Science",
        startDate: "2016-09",
        endDate: "2020-06"
      }
    ],
    skills: ["JavaScript", "React", "Node.js", "MongoDB"]
  })
}
```

### Response (Backend → Frontend)

```json
{
  "statusCode": 200,
  "message": "CV analyzed successfully",
  "data": {
    "analyze": "{\"overallScore\": 75, \"strengths\": [...], \"weaknesses\": [...]}",
    "suggestions": [
      {
        "id": "uuid-1234",
        "type": "improvement",
        "section": "Summary",
        "message": "Your summary needs more impact",
        "suggestion": "Add quantifiable achievements and specific technologies",
        "applied": false
      },
      {
        "id": "uuid-5678",
        "type": "warning",
        "section": "Experience",
        "message": "Missing measurable results",
        "suggestion": "Include metrics like 'increased performance by 40%'",
        "applied": false
      }
    ]
  }
}
```

---

## 🎨 UI States

### Loading State

```
┌────────────────────────┐
│ [⏳ Analyzing...]      │
│  Please wait...        │
└────────────────────────┘
```

### Success State

```
┌────────────────────────┐
│ ✅ Analysis complete!  │
│  Found 5 suggestions   │
└────────────────────────┘
```

### Error State

```
┌────────────────────────┐
│ ❌ Analysis failed     │
│  Please try again      │
└────────────────────────┘
```

### Empty State (No Suggestions)

```
┌────────────────────────────────┐
│         ✨                     │
│  Click "Phân Tích" to get     │
│  AI-powered suggestions        │
└────────────────────────────────┘
```

---

## 🧪 Test Scenarios

### Scenario 1: Happy Path

```
1. User điền đầy đủ thông tin CV
2. Click "Quick Analyze"
3. ✅ Nhận được 3-5 suggestions
4. Click "Apply" trên suggestion
5. ✅ Xem improved content
6. Click "Apply to CV"
7. ✅ CV được update
8. Chuyển sang Preview
9. ✅ Thấy thay đổi trong preview
```

### Scenario 2: Job Match

```
1. Paste job description
2. Click "Phân Tích Độ Khớp"
3. ✅ Match score: 85%
4. ✅ Missing keywords: Docker, AWS
5. Click suggestions để improve
6. ✅ CV được cải thiện
```

### Scenario 3: Error Handling

```
1. User chưa điền đủ thông tin
2. Click "Quick Analyze"
3. ❌ Error: "At least one experience is required"
4. User điền thêm thông tin
5. Click lại "Quick Analyze"
6. ✅ Thành công
```

---

## 📊 Metrics & Analytics

### Có thể track:

- Số lần analyze CV
- Số suggestions được apply
- Match score trung bình
- Sections được improve nhiều nhất
- Success rate của AI suggestions
- Time spent on AI Analysis step

---

## 🎓 Tips cho Người Dùng

1. **Điền đầy đủ thông tin trước khi analyze**

   - Ít nhất 1 experience
   - Ít nhất 1 education
   - Summary không để trống

2. **Sử dụng Job Match Analysis**

   - Copy chính xác job description
   - Chọn đúng ngôn ngữ output
   - Apply các missing keywords

3. **Review trước khi Apply**

   - Đọc kỹ improved content
   - Có thể edit thủ công sau khi apply
   - Không nhất thiết phải apply tất cả

4. **Lặp lại process**
   - Analyze nhiều lần với các JD khác nhau
   - Improve theo từng gợi ý
   - Test với nhiều công việc khác nhau

---

## ✨ Kết Luận

AI Features giờ đã:

- ✅ Hoàn toàn tích hợp vào CV Builder
- ✅ Dễ sử dụng với UI trực quan
- ✅ Cung cấp giá trị thực cho người dùng
- ✅ Có thể scale và mở rộng trong tương lai

**Người dùng có thể tự tin hơn với CV của mình nhờ sự hỗ trợ của AI!** 🚀
